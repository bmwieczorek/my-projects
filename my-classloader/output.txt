[TestClassLoader] started main
[TestClassLoader] current classloader: sun.misc.Launcher$AppClassLoader@18b4aac2
[TestClassLoader] getting value of static field id for com.bawi.MyClass
[MyClass] called static initialization block
loading: /Users/sg0212148/dev/voltage-transform/target/voltage/lib/libvibesimplejava.jnilib
loaded
0
[TestClassLoader] calling static getInstance on com.bawi.MyClass
[MyClass] called static getInstance method, id = 0
[MyClass] called public constructor
[TestClassLoader] set static id to 2
----------------------------------------------------------------
[TestClassLoader] loading class com.bawi.MyClass by classloader: com.bawi.MyClassLoader@5e2de80c
[MyClassLoader] getting stream for resource: com/bawi/MyClass.class
[MyClassLoader] calling defineClass for bytes from: com/bawi/MyClass.class
[MyClassLoader] delegating loadClass for java.lang.Object to parent classloader
[TestClassLoader] loading class com.bawi.MyClass by classloader: com.bawi.MyClassLoader@266474c2
[MyClassLoader] getting stream for resource: com/bawi/MyClass.class
[MyClassLoader] calling defineClass for bytes from: com/bawi/MyClass.class
[MyClassLoader] delegating loadClass for java.lang.Object to parent classloader
[TestClassLoader] loaded class: class com.bawi.MyClass by classloader: com.bawi.MyClassLoader@5e2de80c
[TestClassLoader] loaded class: class com.bawi.MyClass by classloader: com.bawi.MyClassLoader@266474c2
false
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
[TestClassLoader] invoking method getInstance on class com.bawi.MyClass loaded by classloader: com.bawi.MyClassLoader@5e2de80c
[MyClassLoader] delegating loadClass for java.lang.System to parent classloader
[MyClassLoader] delegating loadClass for java.io.PrintStream to parent classloader
[MyClass] called static initialization block
[MyClassLoader] delegating loadClass for java.lang.StringBuilder to parent classloader
loading: /some-path/lib/libvibesimplejava.jnilib
Exception in thread "main" java.lang.UnsatisfiedLinkError: Native Library /some-path/lib/libvibesimplejava.jnilib already loaded in another classloader
	at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1907)
	at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1824)
	at java.lang.Runtime.load0(Runtime.java:809)
	at java.lang.System.load(System.java:1086)
	at com.bawi.MyClass.<clinit>(MyClass.java:17)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.bawi.TestClassLoader.main(TestClassLoader.java:38)

###############################
###############################

Or with commented System.loadLibrary():
[TestClassLoader] started main
[TestClassLoader] current classloader: sun.misc.Launcher$AppClassLoader@18b4aac2
[TestClassLoader] getting value of static field id for com.bawi.MyClass
[MyClass] called static initialization block
0
[TestClassLoader] calling static getInstance on com.bawi.MyClass
[MyClass] called static getInstance method, id = 0
[MyClass] called public constructor
[TestClassLoader] set static id to 2
----------------------------------------------------------------
[TestClassLoader] loading class com.bawi.MyClass by classloader: com.bawi.MyClassLoader@5e2de80c
[MyClassLoader] getting stream for resource: com/bawi/MyClass.class
[MyClassLoader] calling defineClass for bytes from: com/bawi/MyClass.class
[MyClassLoader] delegating loadClass for java.lang.Object to parent classloader
[TestClassLoader] loading class com.bawi.MyClass by classloader: com.bawi.MyClassLoader@266474c2
[MyClassLoader] getting stream for resource: com/bawi/MyClass.class
[MyClassLoader] calling defineClass for bytes from: com/bawi/MyClass.class
[MyClassLoader] delegating loadClass for java.lang.Object to parent classloader
[TestClassLoader] loaded class: class com.bawi.MyClass by classloader: com.bawi.MyClassLoader@5e2de80c
[TestClassLoader] loaded class: class com.bawi.MyClass by classloader: com.bawi.MyClassLoader@266474c2
false
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
[TestClassLoader] invoking method getInstance on class com.bawi.MyClass loaded by classloader: com.bawi.MyClassLoader@5e2de80c
[MyClassLoader] delegating loadClass for java.lang.System to parent classloader
[MyClassLoader] delegating loadClass for java.io.PrintStream to parent classloader
[MyClass] called static initialization block
[MyClassLoader] delegating loadClass for java.lang.StringBuilder to parent classloader
[MyClass] called static getInstance method, id = 0
[MyClass] called public constructor
***************************
[TestClassLoader] invoking method getInstance on class com.bawi.MyClass loaded by classloader: com.bawi.MyClassLoader@266474c2
[MyClassLoader] delegating loadClass for java.lang.System to parent classloader
[MyClassLoader] delegating loadClass for java.io.PrintStream to parent classloader
[MyClass] called static initialization block
[MyClassLoader] delegating loadClass for java.lang.StringBuilder to parent classloader
[MyClass] called static getInstance method, id = 0
[MyClass] called public constructor
Exception in thread "main" java.lang.ClassCastException: com.bawi.MyClass cannot be cast to com.bawi.MyClass
	at com.bawi.TestClassLoader.main(TestClassLoader.java:47)